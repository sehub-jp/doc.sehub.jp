import{_ as s,c as a,o as e,a as n}from"./app.eef814b5.js";const l="/assets/postgres-version.c93e8e67.png",p="/assets/postgres14.936e860a.png",C=JSON.parse('{"title":"Amazon Linux2 で PostgreSQL をインストール","description":"","frontmatter":{},"headers":[{"level":2,"title":"PostgreSQL のバージョン確認","slug":"postgresql-のバージョン確認","link":"#postgresql-のバージョン確認","children":[]},{"level":2,"title":"amazon-linux-extras で PostgreSQLをインストール","slug":"amazon-linux-extras-で-postgresqlをインストール","link":"#amazon-linux-extras-で-postgresqlをインストール","children":[]},{"level":2,"title":"初期化","slug":"初期化","link":"#初期化","children":[]},{"level":2,"title":"サービス起動","slug":"サービス起動","link":"#サービス起動","children":[]},{"level":2,"title":"サービス状態確認","slug":"サービス状態確認","link":"#サービス状態確認","children":[]},{"level":2,"title":"サービスを自動起動","slug":"サービスを自動起動","link":"#サービスを自動起動","children":[]}],"relativePath":"db/postgresql/install.md","lastUpdated":1677726733000}'),t={name:"db/postgresql/install.md"},r=n(`<h1 id="amazon-linux2-で-postgresql-をインストール" tabindex="-1">Amazon Linux2 で PostgreSQL をインストール <a class="header-anchor" href="#amazon-linux2-で-postgresql-をインストール" aria-hidden="true">#</a></h1><h2 id="postgresql-のバージョン確認" tabindex="-1">PostgreSQL のバージョン確認 <a class="header-anchor" href="#postgresql-のバージョン確認" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgres</span><span style="color:#A6ACCD;">*</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上記コマンドで <code>PostgreSQL</code> の関連パケージのバージョンを確認できます。 <img src="`+l+`" alt="Amazon-yum-postgres"></p><p>現在、まだ 9.2 バージョンが分かりました。</p><p>9.2はさすが古すぎるので、<code>amazon-linux-extras</code> を使いましょう。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">amazon-linux-extras</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上記コマンドで <code>amazon-linux-extras</code> のパケージとバージョンを確認できます <img src="`+p+`" alt="Amazon-yum-postgres14"></p><p>よし、バージョン14使えますね🎉</p><h2 id="amazon-linux-extras-で-postgresqlをインストール" tabindex="-1">amazon-linux-extras で PostgreSQLをインストール <a class="header-anchor" href="#amazon-linux-extras-で-postgresqlをインストール" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">amazon-linux-extras</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgres14</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>続いて、yum で PostgreSQL のパケージをインストール</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgresql-server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgresql-devel</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上記コマンドで PostgreSQL をインストールします。</p><h2 id="初期化" tabindex="-1">初期化 <a class="header-anchor" href="#初期化" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">postgresql-setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">initdb</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上記コマンドでデータベースを初期化します。</p><h2 id="サービス起動" tabindex="-1">サービス起動 <a class="header-anchor" href="#サービス起動" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgresql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="サービス状態確認" tabindex="-1">サービス状態確認 <a class="header-anchor" href="#サービス状態確認" aria-hidden="true">#</a></h2><p>サービスが正常に起動できたかどうは下記コマンド確認</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgresql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>緑色の <code>active (running)</code> が表示されたら、OKです。</p><h2 id="サービスを自動起動" tabindex="-1">サービスを自動起動 <a class="header-anchor" href="#サービスを自動起動" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">chkconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgresql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上記コマンドでサーバー再起動の時、<code>PostgreSQL</code> のサービスが自動起動するようにします。</p>`,26),o=[r];function i(c,d,h,u,b,m){return e(),a("div",null,o)}const y=s(t,[["render",i]]);export{C as __pageData,y as default};
